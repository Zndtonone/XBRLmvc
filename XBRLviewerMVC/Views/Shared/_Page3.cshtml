@{
    @model List<FactModel>
}

@{ FactModel f, f2, f3, f4, f5; string fId, fId2, fId3, fId4, fId5; string noValue = ": Einki virði"; }

<table class="table table-sm table-bordered table-striped">
    <tbody>
        <tr>
            <td class="font-weight-bold">Felagið</td>
            <td>
                @{
                    fId = "NameOfReportingEntity";
                    f = Model.FirstOrDefault(x => x.Id == fId);
                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label">@(f?.Value ?? fId + noValue)</p>
                }

                @{
                    fId = "AddressOfReportingEntityStreetName";
                    fId2 = "AddressOfReportingEntityStreetBuildingIdentifier";

                    f = Model.FirstOrDefault(x => x.Id == fId);
                    f2 = Model.FirstOrDefault(x => x.Id == fId2);
                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label &#10;@f2?.Label">@(f?.Value ?? fId + noValue) @(f2?.Value ?? fId2 + noValue)</p>
                }

                @{
                    fId = "AddressOfSubmittingEnterprisePostcodeAndTown";
                    f = Model.FirstOrDefault(x => x.Id == fId);
                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label">@(f?.Value ?? fId + noValue)</p>
                }

                @{
                    fId = "IdentificationNumberCvrOfReportingEntity";
                    f = Model.FirstOrDefault(x => x.Id == fId);
                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label">Skrás.nr.: @(f?.Value ?? fId + noValue)</p>
                }

                @{
                    fId = "ReportingPeriodStartDate";
                    fId2 = "ReportingPeriodEndDate";
                    f = Model.FirstOrDefault(x => x.Id == fId);
                    f2 = Model.FirstOrDefault(x => x.Id == fId2);
                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label &#10;@f2?.Label">Roknskaparár: @(f?.Value ?? fId + noValue) - @(f2?.Value ?? fId2 + noValue)</p>
                }
            </td>
        </tr>
        <tr>
            <td class="font-weight-bold">Nevnd</td>
            <td>
                @{
                    fId = "NameAndSurnameOfMemberOfSupervisoryBoard";
                    fId2 = "TitleOfMemberOfSupervisoryBoard";

                    var memberNames = Model.Where(x => x.Id == fId)
                        .Select(x => x);

                    var memberTitles = Model.Where(x => x.Id == fId2)
                        .Select(x => x);

                    foreach (var mn in memberNames)
                    {
                        <p class="text-left p-1" data-toggle="tooltip" title="@mn?.Label">@(mn?.Value ?? fId + noValue)</p>

                        foreach (var mt in memberTitles)
                        {
                            if (mn.ContextID == mt.ContextID)
                            {
                                <p class="text-left p-1 font-italic" data-toggle="tooltip" title="@mt?.Label">@(mt?.Value ?? fId2 + noValue)</p>
                            }
                        }
                    }
                }
            </td>
        </tr>
        <tr>
            <td class="font-weight-bold">Stjórn</td>
            <td>
                @{
                    fId = "NameAndSurnameOfMemberOfExecutiveBoard";
                    f = Model.FirstOrDefault(x => x.Id == fId);
                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label">@(f?.Value ?? fId + noValue)</p>
                }
            </td>
        </tr>
        <tr>
            <td class="font-weight-bold">Grannskoðan</td>
            <td>
                @{
                    fId = "NameOfAuditFirm";
                    fId2 = "AddressOfAuditorStreetName";
                    fId3 = "AddressOfAuditorStreetBuildingIdentifier";
                    fId4 = "AddressOfAuditorPostCodeIdentifier";
                    fId5 = "AddressOfAuditorDistrictName";

                    f = Model.FirstOrDefault(x => x.Id == fId);
                    f2 = Model.FirstOrDefault(x => x.Id == fId2);
                    f3 = Model.FirstOrDefault(x => x.Id == fId3);
                    f4 = Model.FirstOrDefault(x => x.Id == fId4);
                    f5 = Model.FirstOrDefault(x => x.Id == fId5);

                    <p class="text-left p-1" data-toggle="tooltip" title="@f?.Label">@(f?.Value ?? fId + noValue)</p>
                    <p class="text-left p-1" data-toggle="tooltip" title="@f2?.Label&#10;@f3?.Label">@(f2?.Value ?? fId2 + noValue) @(f3?.Value ?? fId3 + noValue)</p>
                    <p class="text-left p-1" data-toggle="tooltip" title="@f4?.Label&#10;@f5?.Label">@(f4?.Value ?? fId4 + noValue) @(f5?.Value ?? fId5 + noValue)</p>
                }
            </td>
        </tr>

        <tr>
            <td class="font-weight-bold">Samtaksroknskapur</td>
            <td>
            </td>
        </tr>
        <tr>
            <td class="font-weight-bold">Ársaðalfundur</td>
            <td>
            </td>
        </tr>
    </tbody>
</table>

